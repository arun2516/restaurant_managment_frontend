// Import the same styles from add-menu-item
@import '../add-menu-item/add-menu-item.component.scss';

// Additional styles specific to edit mode
.page-header {
  .page-subtitle {
    color: var(--primary-600);
    font-weight: var(--font-weight-medium);
    
    &::before {
      content: '✏️ ';
      margin-right: var(--space-2);
    }
  }
}

// Edit-specific visual indicators
.add-item-form {
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, var(--primary-500), var(--info-500), var(--primary-500));
    border-radius: var(--radius-xl);
    z-index: -1;
    opacity: 0.1;
  }
}

// Form section headers with edit indicator
.form-section {
  .section-title {
    position: relative;
    
    &::after {
      content: 'EDITING';
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(135deg, var(--warning-500), var(--warning-600));
      color: white;
      padding: var(--space-1) var(--space-3);
      border-radius: var(--radius-full);
      font-size: var(--text-xs);
      font-weight: var(--font-weight-bold);
      letter-spacing: 0.5px;
      
      @media (max-width: 768px) {
        position: static;
        transform: none;
        margin-left: auto;
        margin-top: var(--space-2);
      }
    }
  }
}

// Enhanced form actions for edit mode
.form-actions {
  background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
  border: 2px solid var(--primary-200);
  
  .btn-primary {
    background: linear-gradient(135deg, var(--success-500), var(--success-600));
    
    &:hover:not(:disabled) {
      background: linear-gradient(135deg, var(--success-600), var(--success-700));
      box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
    }
    
    .btn-icon {
      &::before {
        content: '✏️ ';
      }
    }
  }
}

// Loading state specific to editing
.loading-section {
  p {
    &::after {
      content: ' for editing...';
      color: var(--primary-600);
      font-weight: var(--font-weight-medium);
    }
  }
}

// Form field highlighting for edit mode
.form-input:focus,
.form-textarea:focus,
.form-select:focus {
  border-color: var(--success-500);
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

// Ingredient items with edit styling
.ingredients-list {
  .ingredient-item {
    position: relative;
    
    &:hover {
      .ingredient-input input {
        border-color: var(--success-300);
        background-color: var(--success-50);
      }
    }
  }
}

// Allergen selection with edit mode styling
.allergens-grid {
  .allergen-item {
    .form-checkbox:checked + .allergen-label {
      color: var(--success-700);
      font-weight: var(--font-weight-semibold);
      
      &::after {
        content: ' ✓';
        color: var(--success-500);
      }
    }
  }
}

// Dark theme adjustments for edit mode
[data-theme="dark"] {
  .add-item-form::before {
    opacity: 0.05;
  }
  
  .form-section .section-title::after {
    background: linear-gradient(135deg, var(--warning-600), var(--warning-700));
  }
  
  .form-actions {
    background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
    border-color: rgba(59, 130, 246, 0.2);
  }
  
  .ingredient-item:hover .ingredient-input input {
    background-color: rgba(16, 185, 129, 0.1);
  }
}

// Mobile specific adjustments for edit mode
@media (max-width: 640px) {
  .form-section .section-title {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
    
    &::after {
      align-self: flex-start;
    }
  }
  
  .page-header {
    .page-subtitle {
      font-size: var(--text-base);
    }
  }
}

// Animation for edit mode entry
@keyframes editModeEntry {
  from {
    opacity: 0;
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.add-item-form {
  animation: editModeEntry 0.4s ease-out;
}

// Success state for updated fields
.form-input.updated,
.form-textarea.updated,
.form-select.updated {
  border-color: var(--success-500);
  background-color: var(--success-50);
  
  &::placeholder {
    color: var(--success-600);
  }
}

// Visual feedback for unsaved changes
.form-section.has-changes {
  border-left: 4px solid var(--warning-500);
  background: linear-gradient(90deg, var(--warning-50), transparent);
}

// Sticky save button on mobile
@media (max-width: 768px) {
  .form-actions {
    position: sticky;
    bottom: 0;
    z-index: var(--z-sticky);
    margin-top: var(--space-4);
    padding: var(--space-4);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
  }
}